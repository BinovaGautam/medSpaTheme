# AI Agent Mandatory Protocols - PreetiDreams Project

## üö® **CRITICAL: ALL AI AGENTS MUST READ THIS FIRST**

**Last Updated**: 2024-12-19  
**Version**: 1.0.0  
**Status**: MANDATORY - NO EXCEPTIONS  

---

## ‚ö†Ô∏è **BEFORE ANY ACTION - MANDATORY CHECKLIST**

### **Step 1: ALWAYS Check Established Systems**
```
[ ] 1. Read projManager/projectDocs/VERSION-CONTROL.md (MAIN file - iteration-based system)
[ ] 2. Verify current iteration status and approach
[ ] 3. Check existing file structure and naming conventions
[ ] 4. Review any existing AI governance documents
[ ] 5. Confirm project-specific protocols before implementing changes
```

### **Step 2: NEVER Override Existing Systems**
```
[ ] 1. DO NOT create new version control systems if one exists
[ ] 2. DO NOT change established iteration numbering
[ ] 3. DO NOT modify core project structure without explicit permission
[ ] 4. DO NOT assume standard practices - always check project-specific rules
[ ] 5. DO NOT work with secondary/backup files when main files exist
```

### **Step 3: Confirm Before Major Changes**
```
[ ] 1. For version control: Follow iteration-based system in main VERSION-CONTROL.md
[ ] 2. For git commits: Use established protocols in GIT-VERSION-CONTROL-PROTOCOL.md
[ ] 3. For file changes: Verify with existing project standards
[ ] 4. For new features: Check against current iteration objectives
[ ] 5. For documentation: Use established entity tracking (REQ-, TASK-, ADR-, AI-)
```

---

## üéØ **PROJECT-SPECIFIC RULES - PREETIDREAMS**

### **Version Control System**
- ‚úÖ **CORRECT**: Iteration-based system (iteration-0, iteration-1, iteration-2, etc.)
- ‚ùå **WRONG**: Traditional semantic versioning (v1.0.0, v1.1.0, etc.)
- üìç **Source**: `projManager/projectDocs/VERSION-CONTROL.md` (MAIN FILE)

### **Entity Tracking System**
- ‚úÖ **CORRECT**: REQ-*, TASK-*, ADR-*, AI-* prefixes
- ‚ùå **WRONG**: Custom prefixes or non-standard tracking
- üìç **Reference**: Entity Tracking Registry in main VERSION-CONTROL.md

### **AI Performance Tracking**
- ‚úÖ **REQUIRED**: AI decision accuracy, confidence levels, human supervision data
- ‚ùå **FORBIDDEN**: Bypassing AI governance protocols
- üìç **Framework**: AI System Entities section in VERSION-CONTROL.md

### **Git Commit Standards**
- ‚úÖ **FOLLOW**: Established protocols in GIT-VERSION-CONTROL-PROTOCOL.md
- ‚ùå **AVOID**: Custom commit message formats without checking existing standards

---

## üõ°Ô∏è **ERROR PREVENTION PROTOCOLS**

### **File Priority Hierarchy**
```
1. MAIN FILES (Root level or primary directories)
   ‚îú‚îÄ‚îÄ projManager/projectDocs/VERSION-CONTROL.md (PRIMARY)
   ‚îú‚îÄ‚îÄ projManager/projectDocs/ai-governance/ (GOVERNANCE)
   ‚îî‚îÄ‚îÄ Root level configuration files

2. SECONDARY FILES (Should not override main files)
   ‚îú‚îÄ‚îÄ execution/progress/ subdirectories
   ‚îú‚îÄ‚îÄ backup files
   ‚îî‚îÄ‚îÄ temporary working files
```

### **Validation Questions Before Any Action**
```
1. "Does a main VERSION-CONTROL.md file already exist?"
2. "What version control system is currently in use?"
3. "What is the current iteration and objectives?"
4. "Are there existing AI governance protocols?"
5. "What entity tracking system is established?"
```

### **Required Reading List**
```
MANDATORY (Read these files FIRST before any significant action):
‚îú‚îÄ‚îÄ üìã projManager/projectDocs/VERSION-CONTROL.md
‚îú‚îÄ‚îÄ üìã projManager/projectDocs/ai-governance/GIT-VERSION-CONTROL-PROTOCOL.md
‚îú‚îÄ‚îÄ üìã projManager/projectDocs/ai-governance/AI-AGENT-MANDATORY-PROTOCOLS.md (this file)
‚îî‚îÄ‚îÄ üìã Any existing project README or ARCHITECTURE files
```

---

## üìä **CURRENT PROJECT STATUS - QUICK REFERENCE**

### **Active System**: Iteration-Based Project Management
- **Current Iteration**: iteration-2 (AI-Enhanced Requirements Refinement)
- **Next Iteration**: iteration-3 (Implementation Foundation)
- **AI System Status**: Production-Active with Enhanced Performance Data Collection
- **Project Health**: 99/100 - Excellent

### **Established Protocols**
- ‚úÖ **Version Control**: Iteration-based (NOT semantic versioning)
- ‚úÖ **Entity Tracking**: REQ-*, TASK-*, ADR-*, AI-* prefixes
- ‚úÖ **AI Performance**: Decision accuracy tracking, confidence calibration
- ‚úÖ **Quality Gates**: 100% human supervision for medical/legal compliance

---

## üö® **ESCALATION PROCEDURES**

### **If You Encounter Conflicts**
1. **STOP** - Do not proceed with conflicting changes
2. **DOCUMENT** - Note the conflict and your intended action
3. **ESCALATE** - Request human clarification on project priorities
4. **WAIT** - Do not implement until clarification is received

### **If You Made an Error**
1. **ACKNOWLEDGE** - Document the error immediately
2. **ASSESS** - Determine impact on established systems
3. **CORRECT** - Follow established protocols to fix the error
4. **LEARN** - Update protocols to prevent similar errors
5. **DOCUMENT** - Add error prevention measures to this file

---

## üìù **CHANGE LOG - AI AGENT ERRORS & PREVENTION**

### **Error #001**: Version Control System Override (2024-12-19)
- **Issue**: AI agent created new semantic versioning system instead of using established iteration-based system
- **Impact**: Conflicted with main VERSION-CONTROL.md iteration approach
- **Root Cause**: Failed to read main VERSION-CONTROL.md file before implementing changes
- **Prevention**: 
  - ‚úÖ Added mandatory file reading checklist
  - ‚úÖ Created file priority hierarchy
  - ‚úÖ Established validation questions protocol
- **Status**: ‚úÖ Fixed - Reverted to iteration-based system

### **Error #002**: File Placement Protocol Violation (2025-01-28)
- **Issue**: Implementation planning document placed in decisions/ directory instead of execution/planning/
- **Impact**: Violated master-index.json routing engine patterns
- **Root Cause**: Failed to analyze document content against routing patterns before placement
- **Prevention**:
  - ‚úÖ Added master-index.json routing compliance protocol
  - ‚úÖ Created routing decision matrix
  - ‚úÖ Implemented pre-placement validation checklist
  - ‚úÖ Added automated compliance check script
- **Status**: ‚úÖ Fixed - Document moved to correct location

### **Future Error Prevention**
- All AI agents must reference this document before major changes
- Mandatory validation checklist must be completed
- Human escalation required for any system-level conflicts
- **NEW**: File placement must follow routing engine patterns
- **NEW**: Pre-placement validation required for all documents

---

## ‚úÖ **COMPLIANCE VERIFICATION**

### **Before Starting Any Task**
```bash
# AI Agent Self-Check Protocol
1. Have I read the main VERSION-CONTROL.md file? [Y/N]
2. Do I understand the current iteration system? [Y/N]
3. Am I following established entity tracking? [Y/N]
4. Have I checked for existing protocols? [Y/N]
5. Am I creating conflicts with established systems? [Y/N]

# If ANY answer is "N" or "Unsure" - STOP and request clarification
```

### **Post-Action Verification**
```bash
# After Completing Any Task
1. Did I follow the established iteration system? [Y/N]
2. Did I use correct entity prefixes (REQ-, TASK-, etc.)? [Y/N]
3. Did I update the main VERSION-CONTROL.md correctly? [Y/N]
4. Did I follow git commit protocols? [Y/N]
5. Did I maintain project consistency? [Y/N]

# If ANY answer is "N" - Immediate correction required
```

---

## üéØ **SUCCESS METRICS**

### **AI Agent Performance Standards**
- **Error Rate**: 0% for system conflicts (ZERO TOLERANCE)
- **Protocol Compliance**: 100% mandatory
- **Documentation Accuracy**: 100% with established systems
- **Human Escalation**: Required for any uncertainties

### **Quality Gates**
- ‚úÖ All changes must align with iteration-based system
- ‚úÖ All entity tracking must use established prefixes
- ‚úÖ All version control must follow main VERSION-CONTROL.md
- ‚úÖ All git commits must follow established protocols

---

**‚ö†Ô∏è CRITICAL REMINDER: This is not optional. Every AI agent working on this project MUST follow these protocols. No exceptions.**

**üìû Escalation Contact**: Human supervisor for any questions or conflicts
**üîÑ Review Cycle**: This document will be updated with every new error type to prevent recurrence 

## üìÇ **FILE PLACEMENT PROTOCOL - MANDATORY COMPLIANCE**

### **CRITICAL: Master-Index.json Routing Engine Compliance**
```
üö® BEFORE placing ANY file, MUST check master-index.json routing patterns:

"patterns": {
  "requirements": ["requirement", "REQ-", "acceptance-criteria"],
  "tasks": ["task", "TASK-", "implementation", "todo"], 
  "decisions": ["decision", "ADR-", "choice", "alternative"],
  "knowledge": ["pattern", "lesson", "best-practice"],
  "execution": ["implementation", "code", "prototype"],
  "analytics": ["metric", "report", "health", "dashboard"]
}
```

### **Routing Decision Matrix (USE THIS EVERY TIME)**
| Document Content | Correct Directory | Wrong Directories |
|------------------|-------------------|-------------------|
| **Implementation Plans** | `execution/planning/` | ‚ùå decisions/, requirements/ |
| **UX/UI Plans** | `execution/planning/` | ‚ùå decisions/, knowledge/ |
| **Technical Specs** | `execution/planning/` | ‚ùå decisions/, requirements/ |
| **ADR Documents** | `decisions/architectural/` | ‚ùå execution/, knowledge/ |
| **REQ Documents** | `requirements/refined/` | ‚ùå decisions/, execution/ |
| **TASK Documents** | `tasks/pending/` or `tasks/completed/` | ‚ùå decisions/, execution/ |
| **Best Practices** | `knowledge/patterns/` | ‚ùå decisions/, execution/ |
| **Performance Metrics** | `analytics/metrics/` | ‚ùå execution/, knowledge/ |

### **MANDATORY Pre-Placement Validation**
```bash
# STEP 1: Analyze document content
1. Does it contain implementation details/planning? ‚Üí execution/planning/
2. Does it contain architectural decisions (ADR-)? ‚Üí decisions/architectural/
3. Does it contain requirements (REQ-)? ‚Üí requirements/refined/
4. Does it contain task details (TASK-)? ‚Üí tasks/pending|completed/
5. Does it contain patterns/lessons? ‚Üí knowledge/patterns/
6. Does it contain metrics/reports? ‚Üí analytics/metrics/

# STEP 2: Verify against routing patterns
grep -E "(requirement|REQ-|implementation|decision|ADR-|pattern|metric)" [filename]

# STEP 3: Confirm directory exists
ls projManager/projectDocs/[target-directory]/
```

### **File Naming Convention Enforcement**
```
‚úÖ CORRECT Patterns:
- PLAN-[TYPE]-[NUMBER]-[description].md ‚Üí execution/planning/
- ADR-[NUMBER]-[description].md ‚Üí decisions/architectural/  
- REQ-[TYPE]-[NUMBER]-[description].md ‚Üí requirements/refined/
- TASK-[TYPE]-[NUMBER]-[description].md ‚Üí tasks/pending|completed/
- KNOW-[TYPE]-[NUMBER]-[description].md ‚Üí knowledge/patterns/
- METRIC-[TYPE]-[NUMBER]-[description].md ‚Üí analytics/metrics/

‚ùå WRONG Examples:
- PLAN-UX-QUIZ-002-elegant-redesign.md in decisions/ (FIXED: moved to execution/planning/)
- Implementation specs in decisions/
- UX plans in knowledge/
- Technical plans in requirements/
```

### **Error Case Study - Recent Fix Applied**
```
üö® ERROR IDENTIFIED: 2025-01-28
- File: PLAN-UX-QUIZ-002-elegant-redesign.md
- Wrong Location: projManager/projectDocs/decisions/
- Content Type: Implementation planning with technical specs
- Correct Location: projManager/projectDocs/execution/planning/
- Action Taken: ‚úÖ Moved to correct location

üõ°Ô∏è PREVENTION PROTOCOL ADDED:
- Routing engine compliance check
- Content analysis matrix
- Mandatory pre-placement validation
```

### **Automated Compliance Check (Run Before Commit)**
```bash
#!/bin/bash
# AI Agent File Placement Validation Script

echo "üîç Checking file placement compliance..."

# Check for misplaced files
MISPLACED_PLANS=$(find projManager/projectDocs/decisions/ -name "PLAN-*" 2>/dev/null | wc -l)
MISPLACED_IMPLS=$(find projManager/projectDocs/requirements/ -name "*implementation*" 2>/dev/null | wc -l)
MISPLACED_SPECS=$(find projManager/projectDocs/knowledge/ -name "*specification*" 2>/dev/null | wc -l)

if [ $MISPLACED_PLANS -gt 0 ] || [ $MISPLACED_IMPLS -gt 0 ] || [ $MISPLACED_SPECS -gt 0 ]; then
    echo "‚ùå FILE PLACEMENT VIOLATIONS DETECTED!"
    echo "   - PLAN files in decisions/: $MISPLACED_PLANS"
    echo "   - Implementation files in requirements/: $MISPLACED_IMPLS" 
    echo "   - Spec files in knowledge/: $MISPLACED_SPECS"
    echo "üö® MUST FIX BEFORE PROCEEDING"
    exit 1
else
    echo "‚úÖ File placement compliance verified"
fi
```
